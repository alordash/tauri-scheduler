<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <h1>Welcome from Tauri!</h1>
    <script>
        const { invoke } = window.__TAURI__.tauri;

        async function test_new_task() {
            let task = await invoke('new_task', { description: 'wtf', done: false, dueTime: new Date(), createdBy: 1 });
            let task_id = await invoke('add_task', { task });
            console.log('task_id :>> ', task_id);
        }

        async function test_complete_task() {
            let affected = await invoke('complete_task', { taskId: 4 });
            console.log('affected :>> ', affected);
        }

        async function test_remove_task() {
            let affected = await invoke('remove_task', { taskId: 4 });
            console.log('affected :>> ', affected);
        }

        async function test_new_user() {
            let user = await invoke('new_user', { login: 'aaaaa', password: 'bbbbb' });
            let user_id = await invoke('add_user', { user });
            console.log('user_id :>> ', user_id);
        }

        invoke('get_all_users', {}).then((response) => console.log('response :>> ', response));
        // test_new_task();
        test_new_user();
    </script>
</body>

</html>